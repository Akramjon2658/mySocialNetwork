(this["webpackJsonpmy-social-network"]=this["webpackJsonpmy-social-network"]||[]).push([[3],{289:function(e,n,t){e.exports={loading:"users_loading__1tebo",user:"users_user__Xw7HJ",messageBody:"users_messageBody__PjZao",profile:"users_profile__1apih"}},290:function(e,n,t){e.exports={pages:"paginator_pages__2fY5Q",currentPage:"paginator_currentPage__1vDPM"}},291:function(e,n,t){"use strict";t.r(n);var r=t(29),o=t(30),a=t(32),s=t(31),l=t(33),u=t(0),i=t.n(u),c=t(127),g=t(10),p=t(289),f=t.n(p),m=t(113),h=t.n(m),d=t(13),P=function(e){var n=e.user,t=e.followingInProgress,r=e.follow,o=e.unfollow;return i.a.createElement("div",{className:f.a.user,key:n.id},i.a.createElement("span",{className:f.a.profile},i.a.createElement(d.b,{to:"/profile/".concat(n.id)},i.a.createElement("img",{src:n.photos.small?n.photos.small:h.a,alt:"logo"})),i.a.createElement("div",null,n.followed?i.a.createElement("button",{disabled:t.some((function(e){return e===n.id})),onClick:function(){return o(n.id)}},"Unfollow"):i.a.createElement("button",{disabled:t.some((function(e){return e===n.id})),onClick:function(){return r(n.id)}},"Follow"))),i.a.createElement("span",{className:f.a.messageBody},i.a.createElement("span",null,i.a.createElement("div",null," ",n.id," "),i.a.createElement("div",null," ",n.name," ")),i.a.createElement("span",null,i.a.createElement("div",null," ","user.location.country"," "),i.a.createElement("div",null," ","user.location.city"," "))))},v=t(42),w=t(87),y=t(290),b=t.n(y),E=function(e){for(var n=e.totalUsersCount,t=e.pageSize,r=e.currentPage,o=e.onPageChanged,a=e.portionSize,s=void 0===a?10:a,l=[],c=Math.ceil(n/t),g=1;g<=c;g++)l.push(g);var p=Math.ceil(c/s),f=Object(u.useState)(1),m=Object(w.a)(f,2),h=m[0],d=m[1],P=(h-1)*s+1,v=h*s;return i.a.createElement("div",{className:b.a.pages},h>1&&i.a.createElement("button",{className:"btn btn-primary",onClick:function(){return d(h-1)}},"prev"),l.filter((function(e){return e>=P&&e<=v})).map((function(e){return i.a.createElement("span",{className:r===e&&b.a.currentPage,onClick:function(){return o(e)}},e)})),h<p&&i.a.createElement("button",{className:"btn btn-primary",onClick:function(){return d(h+1)}},"next"))},C=function(e){var n=e.totalUsersCount,t=e.pageSize,r=e.currentPage,o=e.onPageChanged,a=e.followingInProgress,s=e.follow,l=e.unfollow,u=e.isFetching,c=e.users;return i.a.createElement("div",{className:f.a.users},i.a.createElement(E,{totalUsersCount:n,pageSize:t,currentPage:r,onPageChanged:o}),u?i.a.createElement(v.a,null):null,c.map((function(e){return i.a.createElement(P,{user:e,followingInProgress:a,follow:s,unfollow:l})})))};function _(e,n){return e===n}function k(e,n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,o=0;o<r;o++)if(!e(n[o],t[o]))return!1;return!0}function S(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t+"]")}return n}var U=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=0,s=r.pop(),l=S(r),u=e.apply(void 0,[function(){return a++,s.apply(null,arguments)}].concat(t)),i=e((function(){for(var e=[],n=l.length,t=0;t<n;t++)e.push(l[t].apply(null,arguments));return u.apply(null,e)}));return i.resultFunc=s,i.dependencies=l,i.recomputations=function(){return a},i.resetRecomputations=function(){return a=0},i}}((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,t=null,r=null;return function(){return k(n,t,arguments)||(r=e.apply(null,arguments)),t=arguments,r}}));var F=U((function(e){return e.usersPage.users}),(function(e){return e})),j=function(e){return e.usersPage.pageSize},z=function(e){return e.usersPage.totalUsersCount},I=function(e){return e.usersPage.currentPage},N=function(e){return e.usersPage.isFetching},O=function(e){return e.usersPage.followingInProgress},A=function(e){function n(){var e,t;Object(r.a)(this,n);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return(t=Object(a.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(l)))).onPageChanged=function(e){t.props.getUsers(e,t.props.pageSize)},t}return Object(l.a)(n,e),Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return i.a.createElement(C,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,isFetching:this.props.isFetching,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unfollow,toggleFollowingProgress:this.props.toggleFollowingProgress,followingInProgress:this.props.followingInProgress})}}]),n}(i.a.Component);n.default=Object(g.b)((function(e){return{users:F(e),pageSize:j(e),totalUsersCount:z(e),currentPage:I(e),isFetching:N(e),followingInProgress:O(e)}}),{follow:c.b,unfollow:c.g,setTotalUsersCount:c.d,toggleIsFetching:c.f,toggleFollowingProgress:c.e,getUsers:c.c})(A)}}]);
//# sourceMappingURL=3.6dc4d894.chunk.js.map